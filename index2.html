<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title></title>
</head>
<body>
	<div id="container"></div>
	<script type="text/javascript">
		let total = 100000
        let timer = Date.now()
        // console.log(Date.now() - timer)
  
        // setTimeout(() => {
        //   console.log(Date.now() - timer)
        // }, 0)


        let index = 0 // 偏移量
        let id = 0 // 递增的内容
        function load() {
          index += 50
          if (index < total) {
          	// setTimeout 是一个宏任务，requestAnimationFrame
            setTimeout(() => {
              for (let i = 0; i < 50; i++) { // ie浏览器，需要使用文档碎片
                let li = document.createElement('li')
                li.innerHTML = i
                container.appendChild(li)
              }
              load()
            }, 0)
          }
        }// 分片加载，导致页面的元素变多
        load()


        // 虚拟列表的优化，只会渲染当前的可视区域


	</script>
</body>
</html>